<!DOCTYPE html>
<html>

<head>
    <title>Borrower Details</title>
    <%- include('includes/commonCss') %>
    <link rel="stylesheet" href="/borrowdetails.css">
    <link rel="stylesheet" href="/userRecord.css">
    <link rel="stylesheet" href="/flashMessagesFrontEnd.css">
    <link rel="stylesheet" href="/modal.css">
    <link rel="stylesheet" href="/punishmentForm.css">
    <link rel="stylesheet" href="/navbar.css">
    <link rel="stylesheet" href="/overdueAndBadDebt.css">
    <link rel="stylesheet" href="/punishmentForm.css">
    <link rel="stylesheet" href="/punishmentTable.css">
    <link rel="stylesheet" href="/filter.css">
    <link rel="stylesheet" href="/returnAndCollectDeadlinecss">
    <link rel="stylesheet" href="/flashMessagesBackEnd.css">
</head>

<body>

    <%- include('includes/navbar') %>

    <h1>Overdue Managment</h1>
    <div class="reservation-search-wrapper">
    
    <h2>Overdue and Baddebt reservations</h2>
<!-- We used axios, so couldnt do res.render from front end so thats why manually creating
     a flash message-->
    <div id="flash-message" class="flash-message"></div>


   
    <div class="search-icon-reservation">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Enter Reservation number" id="live-search-field-everyone">
    </div>

    <%- include('includes/flashMessage') %>
    <%- include('includes/filterSearchReservation') %>

    <%- include('includes/modal') %>

    <%- include('includes/borrowerTable') %>
    </div>


    <h2 class="punishment-header">Choose your Punishments</h2>
    <div class="punishment-form-wrapper">
    <%- include('includes/_punishmentForm', { type: 'BadDebt', label: 'Bad Debt' }) %>
    <%- include('includes/_punishmentForm', { type: 'Overdue', label: 'Overdue' }) %>
    </div>

    <h2 class="punishment-header">Punishment Details</h2>

    <div class="search-icon-reservation">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Enter Reservation number" id="live-search-field-punishment">
    </div>
    <%-include('includes/filterSearchPunishment') %>    
    <%- include('includes/punishmentTable') %>
    
    
    <%- include('includes/modalPunishment') %>
    <%- include('includes/modalShowReservations') %>

    <a href="/adminPortal" class="back-to-admin-btn btn">Back to Admin Portal</a>
    <script>
        // Pass `reservations` to the frontend by embedding it in the page
        const reservations = <%- JSON.stringify(reservations) %>;
        // Now you can use `reservations` in your frontend JavaScript
    </script>
    
    <%- include('includes/footer') %>
