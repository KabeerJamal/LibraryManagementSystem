<table class="punishments-table">
    <thead>
        <tr>
            <th>S/N</th>
            <th>Punishment Number</th>
            <th>Borrower Name</th>
            <th>Reservations</th>
            <th>Status</th>
            <th>Starting date</th>
            <th>Type of Punishment</th>
            <th>Punishment Status</th>
            <th>Ending date</th>
            <% if (!isUser) { %>
            <th>Manage</th>
            <% } %>

        </tr>
    </thead>
    <tbody class="all-punishments-table-body">
        <% let i = 0; %>
        <% if (punishments && punishments.length > 0) { %>
        <% punishments.forEach(punishment => { %>
            <% i = i + 1; %>
            <tr>
                <!-- Sequential counter for human-friendly numbering -->
                <td class="sequence-number">
                    <%= i %>
                </td>
                <!-- Actual punishment number from the database -->
                <td class="punishment-number" data-number="<%= punishment.userPunishmentid %>">
                    <%= punishment.userPunishmentid %>
                </td>
                <td class="name" data-number="<%= punishment.user_id %>">
                    <%= punishment.username %>
                </td>
                <td class="reservations" data-number="<%= punishment.userPunishmentid %>">
                    <button class="show-reservations" data-number="<%= punishment.reservation_ids %>">Show Reservations</button>
                </td>
                <td class="status" data-number="<%= punishment.context %>">
                    <%= punishment.context %>
                </td>
                <td class="starting-date">
                    <%= punishment.punishmentActivationDate %>
                </td>
                <td class="punishment-type" data-number="<%= punishment.punishment_type %>">
                    <!-- <%= punishment.punishment_type %> -->
                     No reservations
                </td>
                <td class="punishment-status">
                    <%= punishment.status %>
                </td>
                
                    <td class="ending-date">
                        <% if (punishment.punishment_type != 'fine') { %>
                        <%= punishment.punishmentEndDate %>
                        <% } %>
                    </td>
               
                <% if (!isUser) { %>
                <td class="manage" data-number="<%= punishment.userPunishmentid %>">
                    <% if (punishment.status !== 'completed') { %>
                        <button class="manage" data-number="<%= punishment.duration ? punishment.duration : '' %>">Manage</button>
                    <% } %>
                </td>
                <% } %>
            </tr>
        <% }); %>
        <% } else { %>
            <tr>
                <td colspan="<%= !isUser ? '10' : '9' %>" style="text-align: center; padding: 20px;">
                    No punishments found
                </td>
            </tr>
        <% } %>
    </tbody>
</table>
